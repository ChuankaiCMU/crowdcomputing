
<html>

<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="mturk.js"></script>

<script>
    	var numclicks = 0;
    	var keydowns = 0;

      var addedelements = [];

    	$(document).ready(function() {
    		$("#theimage").click(function(e) {
          numclicks++;
          $("#peopleinimage6").text(numclicks);
          $("#peopleinimage6field").val(numclicks);

          var newdomelement = $("<div class='marker'></div>");
          newdomelement.css("left", (e.pageX-3) + "px");
          newdomelement.css("top", (e.pageY-3) + "px");

          var currhistory = $("#history").val();
          currhistory += "|" + e.pageX + "," + e.pageY + "|";
          $("#history").val(currhistory);

          newdomelement.click(removeElementEvent);

          $("body").append(newdomelement);

          // add to history
          addedelements.push(newdomelement);
    		})
    		$(document).keydown(function(e) {
    			keydowns++;
    			$("#numkeydowns").val(keydowns);

          console.log(e);

          if(e.key=="z" && e.ctrlKey) {
            var elem2remove = addedelements.pop();
            removeElement(elem2remove);
          }
    		})
    	})

      function removeElement(elem) {
        $(elem).remove();

        numclicks--;
        $("#peopleinimage6").text(numclicks);
        $("#peopleinimage6field").val(numclicks);       
      }

      function removeElementEvent(e) {
        removeElement(this);
      }
    </script>
</head>

<body>
   <style>
    .marker {
      border: 2px solid red;
      border-radius: 5px;
      width: 2px;
      height: 2px;
      position: absolute;
      left: 0px;
      top: 0px;
    }
  </style>
<form id="mturk_form">
<div style="text-align: center; ">
<h1>This is an easy HIT for you to count the number of people in seven images</h1>
  <h2> <font color="purple">Do accept the hit first!</font></h2>
<h2> Instructions: In the first five and the seventh image, simply count the people in the image and put the result in each blanks below the picture</h2>
<h2> Notice: Only taken the <font color = "red">HUMAN</font> head that can been seen more than HALF in the picture into your counting </h3>
<img src="./people1.jpg" height="400" width="600" "/><br>
  
<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage1"></label><br>

<img src="./people2.jpg" height="400" width="600"/><br>

<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage2"></label><br>
  
<img src="./people3.jpg" height="400" width="600"/><br>
  
<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage3"></label><br>

<img src="./people4.jpg" height="400" width="600"/><br>

<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage4"></label><br>

<img src="./people5.png" height="400" width="600"/><br>
  
<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage5"></label><br>
                                                                                             
<h2>To count the people in the image below, just click on EVERY HEAD of people you could saw, there will be a <font color = "red">red dot</font> pointed on where you click, and the counter below will automatically increase</h2>
<h2>When you want to cancel a dot, click on it another time and it will disappear while the counter below will decrease 1 too.</h2>
<h2>There are HUNDREDS of heads, so it's pretty time consuming. We already have the correct answer for this question. People who get a result number that error within 10 will get a $2.00 bonus, or will get $1.00 within when the error number is within 50 but more than 10.</h2>
<h2><font color = "red">Caution: Task will be rejected if your result of this question is far from satisfaction.</font></h2>
<img id="theimage" src="./people6.jpg">
<p>
You've selected <span id="peopleinimage6">0</span> people(there's no typing blank for this question)
</p>
<p>
 <input id="peopleinimage6field" type="hidden" name="peopleinimage6"></p>
  <p> 
<p>
<h2>You are almost done! Now finish the last question as a refreshment</h2> 
                                                                    <h1><font color = "green"> Go Celtics!</font></h1>                                                                 
</p>
<img src="./people7.jpg" height="400" width="600"/><br>
<label>How many recognizable people are there in the image? <input type="text" name="peopleinimage7"></label><br>                                                                                                            
 <input type="submit" name="Submit" value= "Submit">
</p>
</div>  
</form>

</body>

</html>
